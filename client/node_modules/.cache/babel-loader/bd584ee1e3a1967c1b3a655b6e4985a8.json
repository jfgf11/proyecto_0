{"ast":null,"code":"import _asyncToGenerator from\"/home/jf.gaviria/Cloud_Computing/Proyectos/proyecto_0/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jf.gaviria/Cloud_Computing/Proyectos/proyecto_0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/jf.gaviria/Cloud_Computing/Proyectos/proyecto_0/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import EventsList from'./EventsList';import EventDetail from'./EventDetail';import httpClients from'../httpClients';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultValuesEvent={nombre:'',lugar:'',direccion:'',fecha_inicio:'',fecha_fin:'',presencial:false,eventSelected:false};export default function EventsHandler(props){var _useState=useState(defaultValuesEvent),_useState2=_slicedToArray(_useState,2),selectedEvent=_useState2[0],setSelectedEvent=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),deletedElement=_useState4[0],setDeletedElement=_useState4[1];var cerrarSesion=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:httpClients.post('//172.24.41.232:8080/logout',{},{headers:{'Authorization':\"Bearer \"+props.token}}).then(function(){props.setToken('');sessionStorage.setItem('token','');}).catch(function(error){alert('Error cerrando sesión');});case 1:case\"end\":return _context.stop();}}},_callee);}));return function cerrarSesion(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"ui teal header middle center aligned\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:\"Bienvenido a tu cuenta de Eventos\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ui segment\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\" aligned icon header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"user icon\"}),props.userInfo?props.userInfo.name+\" \"+props.userInfo.lastName:\"\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ui segment eight wide column\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"ui dividing header\",children:\"Lista de Eventos\"}),/*#__PURE__*/_jsx(EventsList,{setSelectedEvent:setSelectedEvent,deletedElement:deletedElement,setDeletedElement:setDeletedElement,userInfo:props.userInfo,token:props.token})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"eight wide column\",children:[/*#__PURE__*/_jsx(EventDetail,{selectedEvent:selectedEvent,deletedElement:deletedElement,setDeletedElement:setDeletedElement,token:props.token}),/*#__PURE__*/_jsxs(\"h3\",{onClick:function onClick(){return cerrarSesion();},className:\"ui right aligned header\",style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"log out icon\"}),\"Cerrar Sesi\\xF3n\"]})]})]})]})]});}","map":{"version":3,"sources":["/home/jf.gaviria/Cloud_Computing/Proyectos/proyecto_0/client/src/components/EventsHandler.js"],"names":["React","useEffect","useState","EventsList","EventDetail","httpClients","defaultValuesEvent","nombre","lugar","direccion","fecha_inicio","fecha_fin","presencial","eventSelected","EventsHandler","props","selectedEvent","setSelectedEvent","deletedElement","setDeletedElement","cerrarSesion","post","headers","token","then","setToken","sessionStorage","setItem","catch","error","alert","userInfo","name","lastName","cursor"],"mappings":"ybAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,wFAEA,GAAMC,CAAAA,kBAAkB,CAAG,CAACC,MAAM,CAAC,EAAR,CAAWC,KAAK,CAAC,EAAjB,CAAoBC,SAAS,CAAC,EAA9B,CAAiCC,YAAY,CAAC,EAA9C,CAAiDC,SAAS,CAAC,EAA3D,CAA+DC,UAAU,CAAC,KAA1E,CAAiFC,aAAa,CAAC,KAA/F,CAA3B,CAEA,cAAe,SAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CACzC,cAA0Cb,QAAQ,CAACI,kBAAD,CAAlD,wCAAOU,aAAP,eAAsBC,gBAAtB,eACA,eAA4Cf,QAAQ,CAAC,KAAD,CAApD,yCAAOgB,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,CAAAA,YAAY,0FAAG,mIACjBf,WAAW,CAACgB,IAAZ,CAAiB,6BAAjB,CAA+C,EAA/C,CAAkD,CAC9CC,OAAO,CAAE,CACP,gBAAiB,UAAYP,KAAK,CAACQ,KAD5B,CADqC,CAAlD,EAIGC,IAJH,CAIQ,UAAK,CACTT,KAAK,CAACU,QAAN,CAAe,EAAf,EACAC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAgC,EAAhC,EACH,CAPD,EAOGC,KAPH,CAOS,SAACC,KAAD,CAAS,CACdC,KAAK,CAAC,uBAAD,CAAL,CACH,CATD,EADiB,sDAAH,kBAAZV,CAAAA,YAAY,0CAAlB,CAaA,mBACI,oCACI,WAAI,SAAS,CAAC,sCAAd,uBACI,YAAK,SAAS,CAAC,SAAf,+CADJ,EADJ,cAMA,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAI,SAAS,CAAC,sBAAd,wBACI,UAAG,SAAS,CAAC,WAAb,EADJ,CAEML,KAAK,CAACgB,QAAP,CAAkBhB,KAAK,CAACgB,QAAN,CAAeC,IAAf,CAAsB,GAAtB,CAA4BjB,KAAK,CAACgB,QAAN,CAAeE,QAA7D,CAAwE,EAF7E,GADJ,EADJ,cAOI,aAAK,SAAS,CAAC,QAAf,wBACI,aAAK,SAAS,CAAE,8BAAhB,wBACI,WAAI,KAAK,CAAC,oBAAV,8BADJ,cAEI,KAAC,UAAD,EAAY,gBAAgB,CAAGhB,gBAA/B,CAAiD,cAAc,CAAEC,cAAjE,CAAiF,iBAAiB,CAAEC,iBAApG,CAAuH,QAAQ,CAAEJ,KAAK,CAACgB,QAAvI,CAAiJ,KAAK,CAAEhB,KAAK,CAACQ,KAA9J,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAG,mBAAjB,wBACI,KAAC,WAAD,EAAa,aAAa,CAAEP,aAA5B,CAA2C,cAAc,CAAEE,cAA3D,CAA2E,iBAAiB,CAAEC,iBAA9F,CAAiH,KAAK,CAAEJ,KAAK,CAACQ,KAA9H,EADJ,cAEI,YAAI,OAAO,CAAE,yBAAMH,CAAAA,YAAY,EAAlB,EAAb,CAAmC,SAAS,CAAC,yBAA7C,CAAuE,KAAK,CAAE,CAAEc,MAAM,CAAE,SAAV,CAA9E,wBACI,UAAG,SAAS,CAAC,cAAb,EADJ,sBAFJ,GALJ,GAPJ,GANA,GADJ,CA+BH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport EventsList from './EventsList';\nimport EventDetail from './EventDetail';\nimport httpClients from '../httpClients';\n\nconst defaultValuesEvent = {nombre:'',lugar:'',direccion:'',fecha_inicio:'',fecha_fin:'', presencial:false, eventSelected:false}\n\nexport default function EventsHandler(props) {\n    const [selectedEvent, setSelectedEvent] = useState(defaultValuesEvent)\n    const [deletedElement, setDeletedElement] = useState(false)\n\n    const cerrarSesion = async () =>{\n        httpClients.post('//172.24.41.232:8080/logout',{},{\n            headers: {\n              'Authorization': \"Bearer \" + props.token\n            }\n        }).then(() =>{\n            props.setToken('')\n            sessionStorage.setItem('token', '')\n        }).catch((error)=>{\n            alert('Error cerrando sesión')\n        })\n    }\n\n    return (\n        <div>\n            <h1 className=\"ui teal header middle center aligned\">\n                <div className=\"content\">\n                    Bienvenido a tu cuenta de Eventos\n                </div>\n            </h1>\n        <div className='ui grid'>\n            <div className='ui segment'>\n                <h2 className=\" aligned icon header\">\n                    <i className=\"user icon\"></i>\n                    {(props.userInfo)? props.userInfo.name + \" \" + props.userInfo.lastName : \"\"}\n                </h2>\n            </div>\n            <div className='ui row'>\n                <div className= 'ui segment eight wide column'>\n                    <h4 class=\"ui dividing header\">Lista de Eventos</h4>\n                    <EventsList setSelectedEvent ={setSelectedEvent} deletedElement={deletedElement} setDeletedElement={setDeletedElement} userInfo={props.userInfo} token={props.token}/>\n                </div>\n                <div className = 'eight wide column'>\n                    <EventDetail selectedEvent={selectedEvent} deletedElement={deletedElement} setDeletedElement={setDeletedElement} token={props.token}/>\n                    <h3 onClick={() => cerrarSesion()} className='ui right aligned header' style={{ cursor: 'pointer'}}>\n                        <i className=\"log out icon\"></i>\n                        Cerrar Sesión\n                    </h3>\n                </div>\n                \n            </div>\n        </div>\n        </div>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}